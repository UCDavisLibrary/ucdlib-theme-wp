{% extends getUcdTemplate('base') %}

{% from getUcdMacro('lists') import teaser %}
{% from getUcdMacro('links') import pagination %}

{% block content_container %}
  <div class="l-container {{not hideSidebar ? 'l-basic'}}{{rightSidebar and not hideSidebar ? '--flipped'}}">
    <div class="l-content">
      <div class="panel o-box">
        {% if posts %}
          {% for post in posts %}
            {{ teaser({post, partOfQuery: true, hideExcerpt: teaserSettings.hideExcerpt, hideImage: teaserSettings.hideImage}) }}
          {% endfor %}

          {{ pagination({"pagination": posts.pagination}) }}
        {% else %}
          <div class="alert">No {{title}} posts found!</div>
        {% endif %}
      </div>
    </div>

    {% if not hideSidebar %}
      <div class="l-sidebar-second">
        {% if sidebar %}
          {{sidebar}}
         {% else %}
          {% include getUcdSidebarDefault('single-category') %}
         {% endif %}
      </div>
    {% endif %}
  </div>

{% endblock %}
